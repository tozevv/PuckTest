<html>
 <head>
   <script src="https://www.puck-js.com/puck.js"></script>
   
   <script type="text/javascript">
    

    // When clicked, connect or disconnect

    function pooling() {
      setInterval(function() {
        Puck.eval("BTN.read()",function(pressed) { console.log(pressed); })
      }, 100);
    }

    var connection;    
    function connect() {
        if (connection) {
          connection.close();
          connection = undefined;
        }
        Puck.connect(function(connection) {
          if (!connection) {
            alert("Couldn't connect!");
            return;
          }
         
          // First, reset Puck.js
          pooling();
        });
    }



  </script>
 </head>
 <body>
  <h1>K8s test 5</h1>
 
  <button id="connect_button" onClick="connect()">Connect!</button>
  
    
 </body>
</html>
